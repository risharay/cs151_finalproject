import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;
/**
 * Panel to Make a reservation
 *
 */
public class ReservationPanel extends JFrame {
    private JLabel partyNameLabel = new JLabel("Party Name ");
    private JLabel partySizeLabel = new JLabel("Party Size: ");
    private JLabel numberOfPartiesLabel = new JLabel("Number of Parties Ahead: ");
    private JTextField partyNameField = new JTextField(20);
    private JTextField partySizeField = new JTextField(20);


    public static JList list;

    int reservationId;
    int size;
    String name;

    private JButton confirm;
    ArrayList<Reservation> reservations;

    public ReservationPanel(String n1, int n2) {
        this.reservations = new ArrayList<Reservation>();

        JPanel partyNamePanel = new JPanel();
        partyNamePanel.add(partyNameLabel);
        partyNamePanel.add(partyNameField);
        partyNameField.setText(n1 + "");

        JPanel partySizePanel = new JPanel();
        partySizePanel.add(partySizeLabel);
        partySizePanel.add(partySizeField);
        partySizeField.setText(n2 + "");

        JPanel numberOfPartiesPanel = new JPanel();
        numberOfPartiesPanel.add(numberOfPartiesLabel);


        confirm = new JButton("Confirm");

        confirm.addActionListener(confirm -> updateValues());

        JFrame frame = new JFrame();

        frame.setLayout(new BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS));
        frame.add(partyNamePanel);
        frame.add(partySizePanel);
        frame.add(numberOfPartiesPanel);
        frame.add(confirm);

        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.pack();
        frame.setVisible(true);


    }
    private void updateValues() {

       // JPanel ConfirmationPanel = new JPanel();
        reservationId++;
        int size = Integer.parseInt(partySizeField.getText());
        String name = partyNameField.getText();
        confirm.addActionListener(new ActionListener(){
            public void actionPerformed(ActionEvent e) {
                //Reservation newRes = new Reservation(reservationId, size, name);
                reservations.add(new Reservation(reservationId, size, name));
                for(int i = 0; i < reservations.size(); i++) {
                    list = new JList(reservations.toArray());
                    System.out.println(list);
                }

                       partyNameLabel.setText(name);
                       partySizeField.setText(String.valueOf(size));
                       numberOfPartiesLabel.setText(String.valueOf(reservationId));
                //ConfirmationPanel cp = new ConfirmationPanel(newRes);
                //JFrame receipt = new JFrame();
               // receipt.add(cp);
                //receipt.pack();
                //receipt.setVisible(true);
                //JOptionPane.showMessageDialog(null,"Reservation Confirmed");
            }
        });

    }

    }
