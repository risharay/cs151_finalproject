import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;
/**
 * Panel to Make a reservation
 *
 */
public class ReservationPanel extends JFrame {
    private JLabel partyNameLabel = new JLabel("Party Name ");
    private JLabel partyNameLabelUpdated = new JLabel("name check");
    private JLabel partySizeLabel = new JLabel("Party Size: ");
    private JLabel partySizeLabelUpdated = new JLabel("size check");
    private JLabel numberOfPartiesLabel = new JLabel("Number of Parties Ahead: ");
    private JLabel numberOfPartiesLabelUpdated = new JLabel("parties check");
    private JTextField partyNameField = new JTextField(20);
    private JTextField partySizeField = new JTextField(20);

    int reservationId;

    private JButton confirm;

    ArrayList<Reservation> reservations;

    public ReservationPanel(String n1, int n2) {
        this.reservations = new ArrayList<Reservation>();

        JPanel partyNamePanel = new JPanel();
        partyNamePanel.add(partyNameLabel);
        partyNamePanel.add(partyNameField);
        partyNameField.setText(n1 + "");

        JPanel partyNamePanelUpdated = new JPanel();
        partyNamePanel.add(partyNameLabelUpdated);

        JPanel partySizePanel = new JPanel();
        partySizePanel.add(partySizeLabel);
        partySizePanel.add(partySizeField);
        partySizeField.setText(n2 + "");

        JPanel partySizePanelUpdated = new JPanel();
        partyNamePanel.add(partySizeLabelUpdated);

        JPanel numberOfPartiesPanel = new JPanel();
        numberOfPartiesPanel.add(numberOfPartiesLabel);

        JPanel numberOfPartiesPanelUpdated = new JPanel();
        partyNamePanel.add(numberOfPartiesLabelUpdated);


        confirm = new JButton("Confirm");

        confirm.addActionListener(confirm -> updateValues());

        JFrame frame = new JFrame();

        frame.setLayout(new BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS));
        frame.add(partyNamePanel);
        frame.add(partyNamePanelUpdated);
        frame.add(partySizePanel);
        frame.add(partySizePanelUpdated);
        frame.add(numberOfPartiesPanel);
        frame.add(numberOfPartiesPanelUpdated);
        frame.add(confirm);

        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.pack();
        frame.setVisible(true);


    }
    private void updateValues() {
        reservationId++;
        int size = Integer.parseInt(partySizeField.getText());
        String name = partyNameField.getText();
        confirm.addActionListener(e -> {
            reservations.add(new Reservation(reservationId, size, name));
            for(int i = 0; i < reservations.size(); i++) {
                partyNameLabelUpdated.setText(reservations.get(i).getPartyName());
                System.out.println(reservations.get(i).getPartyName());
                partySizeLabelUpdated.setText(String.valueOf(reservations.get(i).getPartySize()));
                numberOfPartiesLabelUpdated.setText(String.valueOf(reservations.get(i).getReservationId()));

            }
        });

    }

    }